!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function($){var t=-1,a=-1,e=function(t){return parseFloat(t)||0},o=function(t){var a=1,o=$(t),i=null,n=[];return o.each(function(){var t=$(this),o=t.offset().top-e(t.css("margin-top")),s=n.length>0?n[n.length-1]:null;null===s?n.push(t):Math.floor(Math.abs(i-o))<=a?n[n.length-1]=s.add(t):n.push(t),i=o}),n},i=function(t){var a={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof t?$.extend(a,t):("boolean"==typeof t?a.byRow=t:"remove"===t&&(a.remove=!0),a)},n=$.fn.matchHeight=function(t){var a=i(t);if(a.remove){var e=this;return this.css(a.property,""),$.each(n._groups,function(t,a){a.elements=a.elements.not(e)}),this}return this.length<=1&&!a.target?this:(n._groups.push({elements:this,options:a}),n._apply(this,a),this)};n.version="0.7.0",n._groups=[],n._throttle=80,n._maintainScroll=!1,n._beforeUpdate=null,n._afterUpdate=null,n._rows=o,n._parse=e,n._parseOptions=i,n._apply=function(t,a){var s=i(a),l=$(t),r=[l],d=$(window).scrollTop(),c=$("html").outerHeight(!0),m=l.parents().filter(":hidden");return m.each(function(){var t=$(this);t.data("style-cache",t.attr("style"))}),m.css("display","block"),s.byRow&&!s.target&&(l.each(function(){var t=$(this),a=t.css("display");"inline-block"!==a&&"flex"!==a&&"inline-flex"!==a&&(a="block"),t.data("style-cache",t.attr("style")),t.css({display:a,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),r=o(l),l.each(function(){var t=$(this);t.attr("style",t.data("style-cache")||"")})),$.each(r,function(t,a){var o=$(a),i=0;if(s.target)i=s.target.outerHeight(!1);else{if(s.byRow&&o.length<=1)return void o.css(s.property,"");o.each(function(){var t=$(this),a=t.attr("style"),e=t.css("display");"inline-block"!==e&&"flex"!==e&&"inline-flex"!==e&&(e="block");var o={display:e};o[s.property]="",t.css(o),t.outerHeight(!1)>i&&(i=t.outerHeight(!1)),a?t.attr("style",a):t.css("display","")})}o.each(function(){var t=$(this),a=0;s.target&&t.is(s.target)||("border-box"!==t.css("box-sizing")&&(a+=e(t.css("border-top-width"))+e(t.css("border-bottom-width")),a+=e(t.css("padding-top"))+e(t.css("padding-bottom"))),t.css(s.property,i-a+"px"))})}),m.each(function(){var t=$(this);t.attr("style",t.data("style-cache")||null)}),n._maintainScroll&&$(window).scrollTop(d/c*$("html").outerHeight(!0)),this},n._applyDataApi=function(){var t={};$("[data-match-height], [data-mh]").each(function(){var a=$(this),e=a.attr("data-mh")||a.attr("data-match-height");e in t?t[e]=t[e].add(a):t[e]=a}),$.each(t,function(){this.matchHeight(!0)})};var s=function(t){n._beforeUpdate&&n._beforeUpdate(t,n._groups),$.each(n._groups,function(){n._apply(this.elements,this.options)}),n._afterUpdate&&n._afterUpdate(t,n._groups)};n._update=function(e,o){if(o&&"resize"===o.type){var i=$(window).width();if(i===t)return;t=i}e?a===-1&&(a=setTimeout(function(){s(o),a=-1},n._throttle)):s(o)},$(n._applyDataApi),$(window).bind("load",function(t){n._update(!1,t)}),$(window).bind("resize orientationchange",function(t){n._update(!0,t)})}),!function(t){var a=t("body"),e='<button type="button" class="modaal-close" id="modaal-close" aria-label="Close (Press escape to close)"><span>Close</span></button>',o='<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',i={init:function(a,o){var i=this;i.$elem=t(o),i.options=t.extend({},t.fn.modaal.options,i.$elem.data(),a),i.xhr=null,i.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2)},i.$elem.attr("data-modaal-scope",i.scope.id),i.private_options={active_class:"is_active"},i.lastFocus=null,i.options.is_locked||"confirm"==i.options.type||i.options.hide_close?i.scope.close_btn="":i.scope.close_btn=e,"none"===i.options.animation&&(i.options.animation_speed=0,i.options.after_callback_delay=0),t(o).on("click.Modaal",function(t){t.preventDefault();var a;switch(i.lastFocus=document.activeElement,i.options.before_open.call(i,t),i.options.type){case"inline":i.create_basic();break;case"ajax":a=i.options.source(i.$elem,i.$elem.attr("href")),i.fetch_ajax(a);break;case"confirm":i.options.is_locked=!0,i.create_confirm();break;case"image":i.create_image();break;case"iframe":a=i.options.source(i.$elem,i.$elem.attr("href")),i.create_iframe(a);break;case"video":i.create_video(i.$elem.attr("href"));break;case"instagram":i.create_instagram()}i.watch_events()}),i.options.start_open===!0&&t(o).click()},watch_events:function(){var e=this;a.off("click.Modaal keyup.Modaal keydown.Modaal"),a.on("keydown.Modaal",function(a){var o=a.keyCode,i=a.target;9==o&&e.scope.is_open&&(t.contains(document.getElementById(e.scope.id),i)||t("#"+e.scope.id).find('*[tabindex="0"]').focus())}),a.on("keyup.Modaal",function(a){var o=a.keyCode;return a.target,!e.options.is_locked&&27==o&&e.scope.is_open?!t(document.activeElement).is("input")&&void e.modaal_close():"image"==e.options.type?(37==o&&e.scope.is_open&&!t("#"+e.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&e.gallery_update("prev"),void(39==o&&e.scope.is_open&&!t("#"+e.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&e.gallery_update("next"))):void 0}),a.on("click.Modaal",function(a){var o=t(a.target);if(!e.options.is_locked&&(e.options.overlay_close&&o.is(".modaal-inner-wrapper")||o.is(".modaal-close")))return void e.modaal_close();if(o.is(".modaal-confirm-btn"))return o.is(".modaal-ok")&&e.options.confirm_callback.call(e,e.lastFocus),void e.modaal_close();if(o.is(".modaal-gallery-control")){if(o.hasClass("is_hidden"))return;return o.is(".modaal-gallery-prev")&&e.gallery_update("prev"),void(o.is(".modaal-gallery-next")&&e.gallery_update("next"))}})},build_modal:function(t){var e=this,o="";"instagram"==e.options.type&&(o=" modaal-instagram");var i,n="video"==e.options.type?"modaal-video-wrap":"modaal-content";switch(e.options.animation){case"fade":i=" modaal-start_fade";break;case"slide-down":i=" modaal-start_slidedown";break;default:i=" modaal-start_none"}var s="";e.options.fullscreen&&(s=" modaal-fullscreen"),""===e.options.custom_class&&"undefined"==typeof e.options.custom_class||(e.options.custom_class=" "+e.options.custom_class);var l='<div class="modaal-wrapper modaal-'+e.options.type+i+o+s+e.options.custom_class+'" id="'+e.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper">';"video"!=e.options.type&&(l+='<div class="modaal-container">'),l+='<div class="'+n+'" aria-hidden="false" aria-label="'+e.options.accessible_title+' (Press escape to close)" role="dialog">',l+="inline"==e.options.type?'<div class="modaal-content-container"></div>':t,l+="</div>"+e.scope.close_btn,"video"!=e.options.type&&(l+="</div>"),l+="</div></div></div>",a.append(l),"inline"==e.options.type&&t.appendTo("#"+e.scope.id+" .modaal-content-container"),e.modaal_overlay("show")},create_basic:function(){var a=this,e=a.$elem.is("[href]")?t(a.$elem.attr("href")):a.$elem,o="";e.length?(o=e.children().clone(!0,!0),e.empty()):o="Content could not be loaded. Please check the source and try again.",a.build_modal(o)},create_instagram:function(){var a=this,e=a.options.instagram_id,o="",i="Instagram photo couldn't be loaded, please check the embed code and try again.";if(a.build_modal('<div class="modaal-content-container'+(""!=a.options.loading_class?" "+a.options.loading_class:"")+'">'+a.options.loading_content+"</div>"),""!=e&&null!==e&&void 0!==e){var n="https://api.instagram.com/oembed?url=http://instagr.am/p/"+e+"/";t.ajax({url:n,dataType:"jsonp",cache:!1,success:function(e){o=e.html;var i=t("#"+a.scope.id+" .modaal-content-container");i.length>0&&(i.removeClass(a.options.loading_class),i.html(o),window.instgrm.Embeds.process())},error:function(){o=i;var e=t("#"+a.scope.id+" .modaal-content-container");e.length>0&&(e.removeClass(a.options.loading_class).addClass(a.options.ajax_error_class),e.html(o))}})}else o=i;return!1},fetch_ajax:function(a){var e=this;null==e.options.accessible_title&&(e.options.accessible_title="Dialog Window"),null!==e.xhr&&(e.xhr.abort(),e.xhr=null),e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),e.xhr=t.ajax(a,{success:function(a){var o=t("#"+e.scope.id).find(".modaal-content-container");o.length>0&&(o.removeClass(e.options.loading_class),o.html(a),e.options.ajax_success.call(e,o))},error:function(a){if("abort"!=a.statusText){var o=t("#"+e.scope.id+" .modaal-content-container");o.length>0&&(o.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),o.html("Content could not be loaded. Please check the source and try again."))}}})},create_confirm:function(){var t,a=this;t='<div class="modaal-content-container"><h1 id="modaal-title">'+a.options.confirm_title+'</h1><div class="modaal-confirm-content">'+a.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+a.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+a.options.confirm_cancel_button_text+"</button></div></div></div>",a.build_modal(t)},create_image:function(){var a,e,o=this,i="",n='<button type="button" class="modaal-gallery-control modaal-gallery-prev" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',s='<button type="button" class="modaal-gallery-control modaal-gallery-next" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>';if(o.$elem.is("[rel]")){var l=o.$elem.attr("rel"),r=t('[rel="'+l+'"]');r.removeAttr("data-gallery-active","is_active"),o.$elem.attr("data-gallery-active","is_active"),e=r.length-1;var d=[];i='<div class="modaal-gallery-item-wrap">',r.each(function(t,a){var e="",o="",i="",n=!1,s=a.getAttribute("data-modaal-desc"),l=a.getAttribute("data-gallery-active");""!==a.href||void 0!==a.href?e=a.href:""===a.src&&void 0===a.src||(e=a.src),""!=s&&null!==s&&void 0!==s?(o=s,i='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(t+1)+" - </span>"+s+"</div>"):i='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(t+1)+"</span></div>",l&&(n=!0);var r={url:e,alt:o,desc:i,active:n};d.push(r)});for(var c=0;c<d.length;c++){var m="";d[c].active&&(m=" "+o.private_options.active_class),i+='<div class="modaal-gallery-item gallery-item-'+c+m+'"><img src="'+d[c].url+'" alt=" ">'+d[c].desc+"</div>"}i+="</div>"+n+s}else{var p=o.$elem.attr("href"),h="",u="";o.$elem.attr("data-modaal-desc")&&(h=o.$elem.attr("data-modaal-desc"),u='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+h+"</div>"),i='<div class="modaal-gallery-item is_active"><img src="'+p+'" alt="'+h+'">'+u+"</div>"}a=i,o.build_modal(a),t(".modaal-gallery-item.is_active").is(".gallery-item-0")&&t(".modaal-gallery-prev").hide(),t(".modaal-gallery-item.is_active").is(".gallery-item-"+e)&&t(".modaal-gallery-next").hide()},gallery_update:function(a){var e=this,o=t("#"+e.scope.id),i=o.find(".modaal-gallery-item"),n=i.length-1;if(0==n)return!1;var s=o.find(".modaal-gallery-prev"),l=o.find(".modaal-gallery-next"),r=250,d=0,c=0,m=o.find(".modaal-gallery-item."+e.private_options.active_class),p="next"==a?m.next(".modaal-gallery-item"):m.prev(".modaal-gallery-item");return e.options.before_image_change.call(e,m,p),("prev"!=a||!o.find(".gallery-item-0").hasClass("is_active"))&&(("next"!=a||!o.find(".gallery-item-"+n).hasClass("is_active"))&&void m.stop().animate({opacity:0},r,function(){p.addClass("is_next").css({position:"absolute",display:"block",opacity:0}),d=o.find(".modaal-gallery-item.is_next").width(),c=o.find(".modaal-gallery-item.is_next").height(),o.find(".modaal-gallery-item-wrap").stop().animate({width:d,height:c},r,function(){m.removeClass(e.private_options.active_class+" "+e.options.gallery_active_class).removeAttr("style"),p.addClass(e.private_options.active_class+" "+e.options.gallery_active_class).removeClass("is_next").css("position",""),p.stop().animate({opacity:1},r,function(){t(this).removeAttr("style"),o.find(".modaal-gallery-item-wrap").removeAttr("style"),e.options.after_image_change.call(e,p)}),o.find(".modaal-gallery-item .modaal-gallery-label").removeAttr("tabindex"),o.find(".modaal-gallery-item."+e.private_options.active_class+" .modaal-gallery-label").attr("tabindex","0").focus(),o.find(".modaal-gallery-item."+e.private_options.active_class).is(".gallery-item-0")?s.stop().animate({opacity:0},150,function(){t(this).hide()}):s.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150),o.find(".modaal-gallery-item."+e.private_options.active_class).is(".gallery-item-"+n)?l.stop().animate({opacity:0},150,function(){t(this).hide()}):l.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150)})}))},create_video:function(t){var a,e=this;a='<iframe src="'+t+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>',e.build_modal('<div class="modaal-video-container">'+a+"</div>")},create_iframe:function(t){var a,e=this;a=null!==e.options.width||void 0!==e.options.width||null!==e.options.height||void 0!==e.options.height?'<div class="modaal-content" aria-hidden="false" aria-labelledby="'+e.options.accessible_title+'" role="dialog"><iframe src="'+t+'" class="modaal-iframe-elem" style="width: '+e.options.width+"px;height: "+e.options.height+'px" frameborder="0" allowfullscreen></iframe></div>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>',e.build_modal(a)},modaal_open:function(){var a=this,e=t("#"+a.scope.id),o=a.options.animation;"none"===o&&(e.removeClass("modaal-start_none"),a.options.after_open.call(a,e)),"fade"===o&&e.removeClass("modaal-start_fade"),"slide-down"===o&&e.removeClass("modaal-start_slide_down");var i=e;t(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),"image"==a.options.type?i=t("#"+a.scope.id).find(".modaal-gallery-item."+a.private_options.active_class):e.find(".modaal-iframe-elem").length?i=e.find(".modaal-iframe-elem"):e.find(".modaal-video-wrap").length?i=e.find(".modaal-video-wrap"):e.find(".modaal-content-container").length?i=e.find(".modaal-content-container"):e.find(".modaal-content").length&&(i=e.find(".modaal-content")),i.attr("tabindex","0").focus(),"none"!==o&&setTimeout(function(){a.options.after_open.call(a,e)},a.options.after_callback_delay)},modaal_close:function(){var a=this,e=t("#"+a.scope.id);a.options.before_close.call(a,e),null!==a.xhr&&(a.xhr.abort(),a.xhr=null),"none"===a.options.animation&&e.addClass("modaal-start_none"),"fade"===a.options.animation&&e.addClass("modaal-start_fade"),"slide-down"===a.options.animation&&e.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==a.options.type&&t("#"+a.scope.id+" .modaal-content-container").children().clone(!0,!0).appendTo(a.$elem.attr("href")),e.remove(),a.options.after_close.call(a),a.scope.is_open=!1},a.options.after_callback_delay),a.modaal_overlay("hide"),null!=a.lastFocus&&a.lastFocus.focus()},modaal_overlay:function(e){var o=this;"show"==e?(o.scope.is_open=!0,o.options.background_scroll||a.css({overflow:"hidden"}),a.append('<div class="modaal-overlay" id="'+o.scope.id+'_overlay"></div>'),t("#"+o.scope.id+"_overlay").css("background",o.options.background).stop().animate({opacity:o.options.overlay_opacity},o.options.animation_speed,function(){o.modaal_open()})):"hide"==e&&(a.css("overflow",""),t("#"+o.scope.id+"_overlay").stop().animate({opacity:0},o.options.animation_speed,function(){t(this).remove()}))}};t(function(){var a=t(".modaal");a.length&&a.each(function(){var a=t(this),e={},o=!1;a.attr("data-modaal-type")&&(o=!0,e.type=a.attr("data-modaal-type")),a.attr("data-modaal-animation")&&(o=!0,e.animation=a.attr("data-modaal-animation")),a.attr("data-modaal-animation-speed")&&(o=!0,e.animation_speed=a.attr("data-modaal-animation-speed")),a.attr("data-modaal-after-callback-delay")&&(o=!0,e.after_callback_delay=a.attr("data-modaal-after-callback-delay")),a.attr("data-modaal-locked")&&(o=!0,e.is_locked="true"===a.attr("data-modaal-locked")),a.attr("data-modaal-hide-close")&&(o=!0,e.hide_close="true"===a.attr("data-modaal-hide-close")),a.attr("data-modaal-background")&&(o=!0,e.background=a.attr("data-modaal-background")),a.attr("data-modaal-overlay-opacity")&&(o=!0,e.overlay_opacity=a.attr("data-modaal-overlay-opacity")),a.attr("data-modaal-overlay-close")&&(o=!0,e.overlay_close="false"!==a.attr("data-modaal-overlay-close")),a.attr("data-modaal-accessible-title")&&(o=!0,e.accessible_title=a.attr("data-modaal-accessible-title")),a.attr("data-modaal-start-open")&&(o=!0,e.start_open="true"===a.attr("data-modaal-start-open")),a.attr("data-modaal-fullscreen")&&(o=!0,e.fullscreen="true"===a.attr("data-modaal-fullscreen")),a.attr("data-modaal-custom-class")&&(o=!0,e.custom_class=a.attr("data-modaal-custom-class")),a.attr("data-modaal-background-scroll")&&(o=!0,e.background_scroll="true"===a.attr("data-modaal-background-scroll")),a.attr("data-modaal-width")&&(o=!0,e.width=parseInt(a.attr("data-modaal-width"))),a.attr("data-modaal-height")&&(o=!0,e.height=parseInt(a.attr("data-modaal-height"))),a.attr("data-modaal-confirm-button-text")&&(o=!0,e.confirm_button_text=a.attr("data-modaal-confirm-button-text")),a.attr("data-modaal-confirm-cancel-button-text")&&(o=!0,e.confirm_cancel_button_text=a.attr("data-modaal-confirm-cancel-button-text")),a.attr("data-modaal-confirm-title")&&(o=!0,e.confirm_title=a.attr("data-modaal-confirm-title")),a.attr("data-modaal-confirm-content")&&(o=!0,e.confirm_content=a.attr("data-modaal-confirm-content")),a.attr("data-modaal-gallery-active-class")&&(o=!0,e.gallery_active_class=a.attr("data-modaal-gallery-active-class")),a.attr("data-modaal-loading-content")&&(o=!0,e.loading_content=a.attr("data-modaal-loading-content")),a.attr("data-modaal-loading-class")&&(o=!0,e.loading_class=a.attr("data-modaal-loading-class")),a.attr("data-modaal-ajax-error-class")&&(o=!0,e.ajax_error_class=a.attr("data-modaal-ajax-error-class")),a.attr("data-modaal-instagram-id")&&(o=!0,e.instagram_id=a.attr("data-modaal-instagram-id")),o&&a.modaal(e)})}),t.fn.modaal=function(a){return this.each(function(){var e=t(this).data("modaal");if(e){if("string"==typeof a)switch(a){case"close":e.modaal_close()}}else{var o=Object.create(i);o.init(a,this),t.data(this,"modaal",o)}})},t.fn.modaal.options={type:"inline",animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(t,a){return a},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},gallery_active_class:"gallery_active_item",before_image_change:function(t,a){},after_image_change:function(t){},loading_content:o,loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null}}(jQuery,window,document),!function(t,a){"use strict";function e(t){this.callback=t,this.ticking=!1}function o(a){return a&&"undefined"!=typeof t&&(a===t||a.nodeType)}function i(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var a,e,n=t||{};for(e=1;e<arguments.length;e++){var s=arguments[e]||{};for(a in s)n[a]="object"!=typeof n[a]||o(n[a])?n[a]||s[a]:i(n[a],s[a])}return n}function n(t){return t===Object(t)?t:{down:t,up:t}}function s(t,a){a=i(a,s.options),this.lastKnownScrollY=0,this.elem=t,this.debouncer=new e(this.update.bind(this)),this.tolerance=n(a.tolerance),this.classes=a.classes,this.offset=a.offset,this.scroller=a.scroller,this.initialised=!1,this.onPin=a.onPin,this.onUnpin=a.onUnpin,this.onTop=a.onTop,this.onNotTop=a.onNotTop}var l={bind:!!function(){}.bind,classList:"classList"in a.documentElement,rAF:!!(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame)};t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},s.prototype={constructor:s,init:function(){return s.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,a=this.classes;(t.contains(a.pinned)||!t.contains(a.unpinned))&&(t.add(a.unpinned),t.remove(a.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,a=this.classes;t.contains(a.unpinned)&&(t.remove(a.unpinned),t.add(a.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,a=this.classes;t.contains(a.top)||(t.add(a.top),t.remove(a.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,a=this.classes;t.contains(a.notTop)||(t.add(a.notTop),t.remove(a.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(a.documentElement||a.body.parentNode||a.body).scrollTop},getViewportHeight:function(){return t.innerHeight||a.documentElement.clientHeight||a.body.clientHeight},getDocumentHeight:function(){var t=a.body,e=a.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===t||this.scroller===a.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var a=0>t,e=t+this.getViewportHeight()>this.getScrollerHeight();return a||e},toleranceExceeded:function(t,a){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[a]},shouldUnpin:function(t,a){var e=t>this.lastKnownScrollY,o=t>=this.offset;return e&&o&&a},shouldPin:function(t,a){var e=t<this.lastKnownScrollY,o=t<=this.offset;return e&&a||o},update:function(){var t=this.getScrollY(),a=t>this.lastKnownScrollY?"down":"up",e=this.toleranceExceeded(t,a);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,e)?this.unpin():this.shouldPin(t,e)&&this.pin(),this.lastKnownScrollY=t)}},s.options={tolerance:{up:0,down:0},offset:0,scroller:t,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},s.cutsTheMustard="undefined"!=typeof l&&l.rAF&&l.bind&&l.classList,t.Headroom=s}(window,document),!function(t){t&&(t.fn.headroom=function(a){return this.each(function(){var e=t(this),o=e.data("headroom"),i="object"==typeof a&&a;i=t.extend(!0,{},Headroom.options,i),o||(o=new Headroom(this,i),o.init(),e.data("headroom",o)),"string"==typeof a&&o[a]()})},t("[data-headroom]").each(function(){var a=t(this);a.headroom(a.data())}))}(window.Zepto||window.jQuery),function($){$&&($.fn.headroom=function(t){return this.each(function(){var a=$(this),e=a.data("headroom"),o="object"==typeof t&&t;o=$.extend(!0,{},Headroom.options,o),e||(e=new Headroom(this,o),e.init(),a.data("headroom",e)),"string"==typeof t&&(e[t](),"destroy"===t&&a.removeData("headroom"))})},$("[data-headroom]").each(function(){var t=$(this);t.headroom(t.data())}))}(window.Zepto||window.jQuery),function($){"use strict";$.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var e=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",i=document.createElement("div");i.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",e.appendChild(i.childNodes[1])}return t&&$.extend(a,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var e=".fitvidsignore";a.ignore&&(e=e+", "+a.ignore);var o=$(this).find(t.join(","));o=o.not("object object"),o=o.not(e),o.each(function(){var t=$(this);if(!(t.parents(e).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var a="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),o=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=a/o;if(!t.attr("name")){var n="fitvid"+$.fn.fitVids._count;t.attr("name",n),$.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%"),t.removeAttr("height").removeAttr("width")}})})},$.fn.fitVids._count=0}(window.jQuery||window.Zepto);